<form #formCrearFormulario="ngForm"  class="form-horizontal" (ngSubmit)="crearFormulario(formCrearFormulario.value)">
<div class="panel panel-default">
  <div class="panel-heading">Crear Formulario</div>
  <div class="panel-body">
    <table>
      <tr>
        <td>
          <!--<input type="hidden" name="cedula" value="1023" />-->
          Ingrese el item
        </td>
        <td>
          <input type="text"  [(ngModel)]="definicionItemFormulario.nombreItem" id="nombreItemId" name="nombreItem">
        </td>
      </tr>
      <tr>
        <td>
          Tipo de respuesta
        </td>
        <td>
          <select id="tipoControl" name="tipoControl" [(ngModel)]="definicionItemFormulario.tipoControl">
            <option value="0">Selecccione</option>
            <option value="1">Titulo</option>
            <option value="2">Descripción</option>
            <option value="3">Comentario</option>
            <option value="4">Caja de texto</option>
            <option value="5">Lista desplegable</option>
            <option value="6">Botón de radio</option>
            <option value="7">Selección múltiple</option>
            <option value="8">Documento adjunto</option>
          </select>
        </td>
      </tr>
      <tr>
        <td>
          Las opciones se delimitan con :
        </td>
        <td>
          <input type="text" id="tipoDelimitadorId" name="tipoDelimitador" [(ngModel)]="definicionItemFormulario.tipoDelimitador">
        </td>
      </tr>
      <tr>
        <td>
          Opciones
        </td>
        <td>
          <input type="text" id="opcionesId" name="opciones" [(ngModel)]="definicionItemFormulario.opciones">
        </td>
      </tr>
      <tr>
        <td>
          Campo Obligatorio
        </td>
        <td>
          <input type="checkbox" name="requerido" [(ngModel)]="definicionItemFormulario.requerido">
        </td>
      </tr>
      <tr>
        <td>
          Tamaño Máximo
        </td>
        <td>
          <input type="number" name="tamanoMaximo" [(ngModel)]="definicionItemFormulario.tamanoMaximo" >
        </td>
      </tr>
      <tr>
        <td colspan="2" align="left">
          <!--<button type="submit" class="btn btn-primary" name="action:AgregarItem">Guardar Item</button>-->
          <!--<button type="button" class="btn btn-primary" (click)="agregarItem($event, nombreItem, tipoControl, tipoDelimitador, opciones)" >Agregar Item</button>-->
          <!--<button type="button" class="btn btn-primary" (click)="agregarItem2($event, definicionItemFormulario)" >Agregar Item</button>-->
          <button type="button" class="btn btn-primary" (click)="agregarItem2(formCrearFormulario.value)" >Agregar Item</button>
        </td>
      </tr>
      <tr>
        <td>
          <br />
        </td>
      </tr>
    </table>
  </div>
</div>
<div class="panel panel-default">
  <div class="panel-heading">Vista Previa</div>
  <div class="panel-body">

    <!--<select class="form-control"  name="pais" required>-->
      <!--<option *ngFor="let pais of listaItems" >{{pais.descripcion}}</option>-->
    <!--</select>-->

    <td *ngIf="numeroItems > 0">
      <!--<table>-->
      <!--<tr *ngFor="let itemLista of listaItems">-->
        <!--<td>-->
          <!--{{itemLista | json}}-->
        <!--</td>-->
        <!--<td>-->
          <!--<input type="text" value="{{itemLista.idTipoControl}}">-->
          <!--<input type="text" value="{{itemLista.descripcion}}">-->
        <!--</td>-->
      <!--</tr>-->
    <!--</table>-->
    <table>
      <tr>
        <td>
          <br />
        </td>
      </tr>
      <tr *ngFor="let itemLista of listaItems; let i = index" [attr.data-index]="i">
        <!--<td>-->
          <!--{{itemLista}}-->
        <!--</td>-->
        <!--<td>-->
          <!--<input type="text" value="{{itemLista?.idTipoControl}}">-->
          <!--<input type="text" value="{{itemLista?.descripcion}}">-->
        <!--</td>-->
        <td *ngIf="itemLista?.idTipoControl < 4" colspan="2">
          <label>{{itemLista?.descripcion}}</label>
        </td>
        <td *ngIf="itemLista?.idTipoControl >= 4">
          <label>{{itemLista?.descripcion}}</label>
        </td>
        <td>
          <div *ngIf="itemLista?.idTipoControl == 4">
            <input type="text" name="item_{{i}}_valor">
          </div>
          <div *ngIf="itemLista?.idTipoControl == 5">
            <select class="form-control" >
              <option>-- Seleccione --</option>
              <option *ngFor="let respuesta of itemLista?.listaRespuestas">{{respuesta.respuesta}}</option>
            </select>
          </div>
          <div *ngIf="itemLista?.idTipoControl == 6">
            <label *ngFor="let respuesta of itemLista.listaRespuestas">
              <input type="radio" name="options">{{respuesta.respuesta}}</label>
          </div>
          <div *ngIf="itemLista?.idTipoControl == 7">
            <label *ngFor="let respuesta of itemLista.listaRespuestas">
              <input type="checkbox" name="options">{{respuesta.respuesta}}</label><br/>
          </div>
          <div *ngIf="itemLista?.idTipoControl == 8">
            <input type="file">
          </div>
        </td>
      </tr>
    </table>


  </div>
</div>

<button type="button" class="btn btn-success">Guardar Formulario</button>
<button type="button" class="btn btn-danger" (click)="borrarFormulario()">Borrar formulario</button>
</form>

<!--Model : {{ definicionItemFormulario | json }}-->
<!--<br>-->
<!--Angular : {{ formCrearFormulario.value | json}}-->
<!--<br>-->
<!--Angular : {{ listaItems | json}}-->
