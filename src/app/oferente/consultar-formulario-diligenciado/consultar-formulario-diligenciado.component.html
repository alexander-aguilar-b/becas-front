<form [formGroup]="formularioDinamico" class="form-horizontal" novalidate autocomplete="off">
  <div *ngIf="datosFormularioDisponibles">
    <div formArrayName="controlesDinamicos"
         *ngFor="let itemLista of listaItems; let i = index">
      <div class="row">
        <div class="form-group">
          <label *ngIf="itemLista.item.tipoItem.id != tiposItemEnum.etiqueta && itemLista.item.tipoItem.id != tiposItemEnum.titulo" class="col-sm-2">{{itemLista.item?.descripcion}}</label>
          <label *ngIf="itemLista.item.tipoItem.id == tiposItemEnum.etiqueta" class="col-sm-2 normal-label">{{itemLista.item?.descripcion}}</label>
          <h3 *ngIf="itemLista.item.tipoItem.id == tiposItemEnum.titulo">{{itemLista.item?.descripcion}}</h3>
          <div [ngSwitch]="itemLista.item.tipoItem.id" class="col-sm-4">

            <!--Caja de Texto-->
            <div *ngSwitchCase="tiposItemEnum.textoEntrada">
              <input class="form-control" type="text" formControlName="{{i}}" id="{{i}}" disabled="disabled"/>
              <div class="form-control" *ngIf="(formularioDinamico.controls.controlesDinamicos.controls[i].touched || formularioDinamico.controls.controlesDinamicos.controls[i].dirty) && formularioDinamico.controls.controlesDinamicos.controls[i].errors"
                   [ngClass]="{'alert-danger': formularioDinamico.controls.controlesDinamicos.controls[i].touched  && !formularioDinamico.controls.controlesDinamicos.controls[i].valid }">
                <span *ngIf="formularioDinamico.controls.controlesDinamicos.controls[i].errors.required">El campo es requerido.</span>
                <span *ngIf="formularioDinamico.controls.controlesDinamicos.controls[i].errors.maxlength">El campo excede la longitud máxima.({{itemLista.item.tamanio}} caracteres ).</span>
              </div>
            </div>
            <!--Caja de Texto-->

            <!--Numero Entrada-->
            <div *ngSwitchCase="tiposItemEnum.entradaNumerica">
              <input class="form-control" type="number" formControlName="{{i}}" id="{{i}}" disabled="disabled"/>
              <div class="form-control" *ngIf="(formularioDinamico.controls.controlesDinamicos.controls[i].touched || formularioDinamico.controls.controlesDinamicos.controls[i].dirty) && formularioDinamico.controls.controlesDinamicos.controls[i].errors"
                   [ngClass]="{'alert-danger': formularioDinamico.controls.controlesDinamicos.controls[i].touched  && !formularioDinamico.controls.controlesDinamicos.controls[i].valid }">
                <span *ngIf="formularioDinamico.controls.controlesDinamicos.controls[i].errors.required">El campo es requerido.</span>
              </div>
            </div>
            <!--Numero Entrada-->

            <!--Fecha Entrada-->
            <div *ngSwitchCase="tiposItemEnum.fecha">
              <input class="form-control" type="date" formControlName="{{i}}" id="{{i}}" disabled="disabled"/>
              <div class="form-control" *ngIf="(formularioDinamico.controls.controlesDinamicos.controls[i].touched || formularioDinamico.controls.controlesDinamicos.controls[i].dirty) && formularioDinamico.controls.controlesDinamicos.controls[i].errors"
                   [ngClass]="{'alert-danger': formularioDinamico.controls.controlesDinamicos.controls[i].touched  && !formularioDinamico.controls.controlesDinamicos.controls[i].valid }">
                <span *ngIf="formularioDinamico.controls.controlesDinamicos.controls[i].errors.required">El campo es requerido.</span>
              </div>
            </div>
            <!--Fecha Entrada-->

            <!--Lista Desplegable-->
            <div *ngSwitchCase="tiposItemEnum.listaSeleccionable">
              <select class="form-control" formControlName="{{i}}" id="{{i}}" disabled="disabled">
                <option>-- Seleccione --</option>
                <option value="{{j}}" *ngFor="let respuesta of itemLista?.item.valoresPosibles; let j = index">{{respuesta}}</option>
              </select>
              <div class="form-control" *ngIf="(formularioDinamico.controls.controlesDinamicos.controls[i].touched || formularioDinamico.controls.controlesDinamicos.controls[i].dirty) && formularioDinamico.controls.controlesDinamicos.controls[i].errors"
                   [ngClass]="{'alert-danger': formularioDinamico.controls.controlesDinamicos.controls[i].touched  && !formularioDinamico.controls.controlesDinamicos.controls[i].valid }">
                <span *ngIf="formularioDinamico.controls.controlesDinamicos.controls[i].errors.required">El campo es requerido.</span>
              </div>
            </div>
            <!--Lista Desplegable-->

            <!--Lista Radio Button-->
            <div *ngSwitchCase="tiposItemEnum.listaRadioButton" class="col-sm-4">
              <div class="row">
                <!--<div class="form-group">-->
                  <div class="radio" *ngFor="let respuesta of itemLista.item.valoresPosibles">
                    <label><input type="radio" value="{{respuesta}}" formControlName="{{i}}" id="{{i}}" name="{{i}}" disabled="disabled">{{respuesta}}</label>
                  </div>
                <!--</div>-->
              </div>
              <div class="form-control" *ngIf="(formularioDinamico.controls.controlesDinamicos.controls[i].touched || formularioDinamico.controls.controlesDinamicos.controls[i].dirty) && formularioDinamico.controls.controlesDinamicos.controls[i].errors"
                   [ngClass]="{'alert-danger': formularioDinamico.controls.controlesDinamicos.controls[i].touched  && !formularioDinamico.controls.controlesDinamicos.controls[i].valid }">
                <span *ngIf="formularioDinamico.controls.controlesDinamicos.controls[i].errors.required">El campo es requerido.</span>
              </div>
            </div>
            <!--Lista Radio Button-->

            <!--Lista Check Boxes-->
            <div *ngSwitchCase="tiposItemEnum.listaSeleccionMultiple" [formArrayName]="i" class="col-sm-4">
              <!--<div *ngSwitchCase="7" [formGroupName]="i">-->
              <div class="row">
                <!--<div class="form-group">-->
                  <div class="checkbox" *ngFor="let respuesta of itemLista.item.valoresPosibles; let j = index">
                    <label class="control-label"><input type="checkbox" value="{{respuesta}}" formControlName="{{j}}" disabled="disabled">{{respuesta}}</label>
                    <!--<label class="control-label"><input type="checkbox" value="{{respuesta.respuesta}}" formControlName="control_{{i}}_opcion_{{j}}" id="control_{{i}}_opcion_{{j}}" name="control_{{i}}_opcion_{{j}}" >{{respuesta.respuesta}}</label>-->
                  </div>
                <!--</div>-->
              </div>
              <div class="form-control" *ngIf="(formularioDinamico.controls.controlesDinamicos.controls[i].touched || formularioDinamico.controls.controlesDinamicos.controls[i].dirty) && formularioDinamico.controls.controlesDinamicos.controls[i].errors"
                   [ngClass]="{'alert-danger': formularioDinamico.controls.controlesDinamicos.controls[i].touched  && !formularioDinamico.controls.controlesDinamicos.controls[i].valid }">
                <span>El campo es requerido</span>
              </div>
            </div>
            <!--Lista Radio Button-->

            <!--Input File-->
            <div *ngSwitchCase="tiposItemEnum.archivo">
              <div class="form-control">
                <input type="file" disabled="disabled" formControlName="{{i}}" id="{{i}}" (change)="archivoSeleccionado($event, i)" />
                <div class="form-control" *ngIf="(formularioDinamico.controls.controlesDinamicos.controls[i].touched || formularioDinamico.controls.controlesDinamicos.controls[i].dirty) && formularioDinamico.controls.controlesDinamicos.controls[i].errors"
                     [ngClass]="{'alert-danger': formularioDinamico.controls.controlesDinamicos.controls[i].touched  && !formularioDinamico.controls.controlesDinamicos.controls[i].valid }">
                  <span *ngIf="formularioDinamico.controls.controlesDinamicos.controls[i].errors.required">El campo es requerido.</span>
                </div>
              </div>
            </div>
            <!--Input File-->
          </div>

        </div>
      </div>
    </div>
    <!--{{ formularioDinamico.value | json }}-->

  </div>

  <div class="top-buffer">
    <a class="btn btn-primary" [routerLink]="['/oferente/consultar-detalle-postulacion/' + idOferta + '/' + idAplicacion]" role="button"><span
      class="glyphicon glyphicon-menu-left"></span>Atrás</a>
  </div>

</form>
