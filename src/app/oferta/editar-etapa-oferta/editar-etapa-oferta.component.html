<form #formEditarEtapaOferta="ngForm" class="form-horizontal">
    <div class="alert alert-success collapse" id="msgActualizacionEtapa">
      <a href="#" data-dismiss="alert" class="close">&times;</a>
      <p class="h7">Los cambios han sido registrados</p>
    </div>

  <h3>Editar Etapa Oferta</h3>
  <br/>
  <div class="container">
    <div class="row">
      <div class="form-group">
        <label class="col-sm-2">Nombre: </label>
        <div class="col-sm-10">
          <input class="form-control" type="text" [(ngModel)]="etapaOferta.nombre" name="nombre">
        </div>
      </div>
    </div>

    <div class="row">
      <div class="form-group row">
        <label class="col-sm-2 col-form-label">Descripción:</label>
        <div class="col-sm-10">
          <textarea rows="5" class="form-control" type="text" [(ngModel)]="etapaOferta.descripcion" name="descripcion"
                    required></textarea>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="form-group">
        <label class="col-sm-2">Fecha Inicio</label>
        <div class="col-sm-4">
          <input class="form-control" type="date" [(ngModel)]="etapaOferta.fecha_inicio" name="fecha_inicio" required>
        </div>
        <label class="col-sm-2">Fecha Fin</label>
        <div class="col-sm-4">
          <input class="form-control" type="date" [(ngModel)]="etapaOferta.fecha_fin" name="fecha_fin" required>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="form-group">
        <label class="col-sm-2">Cantidad a seleccionar</label>
        <div class="col-sm-4">
          <input class="form-control" type="text" [(ngModel)]="etapaOferta.cantidad_a_seleccionar"
                 name="cantidad_a_seleccionar" required>
        </div>
      </div>
    </div>
  </div>
  <div *ngIf="!etapaOferta.formulario">
    <button type="button" class="btn btn-primary" (click)="agregarFormulario($event)">Agregar Formulario</button>
  </div>

  <div *ngIf="etapaOferta.formulario">
    <h4>Formulario Etapa</h4>
    <hr class="sep-tt top-buffer">
    <table class="table table striped table-bordered top-buffer">
      <thead class="thead-inverse">
      <tr>
        <th>Nombre</th>
        <th>Descripción</th>
        <th>Acciones</th>
      </tr>
      </thead>
      <tbody>
      <tr>
        <td>{{etapaOferta.formulario.nombre}}</td>
        <td>{{etapaOferta.formulario.descripcion}}</td>
        <td>
          <div class="dropdown">
            <button class="btn" data-toggle="dropdown">Acciones <span class="caret"></span></button>
            <ul class="dropdown-menu">
              <li>
                <a href="#" tabindex="-1" (click)="editarFormulario($event, etapaOferta.formulario.id)">Editar</a>
              </li>
              <li>
                <a href="#" tabindex="-1" (click)="eliminarFormulario($event, etapaOferta.formulario.id)">Eliminar</a>
              </li>
            </ul>
          </div>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</form>


<div class="row" align="right">
  <br>

  <!--<button type="button" class="btn btn-primary" (click)="cambioFormulario()">Agregar Formulario-->
  <!--</button>-->
  <button type="button" class="btn btn-primary" (click)="actualizarEtapaOferta()">Actualizar Etapa</button>
  <a class="btn btn-primary" [routerLink]="['/oferta/etapas-oferta-oferente', idOferta]" role="button">Cancelar</a>
</div>
